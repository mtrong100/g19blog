import{u as v,r as a,j as s,_ as u,d as b,R as N,P as w,p as y}from"./index-4820e760.js";import{H as r}from"./Heading-03f78f57.js";import{B as D}from"./BlogItem-9bb3a7c5.js";import{B as P}from"./BlogItemSkeleton-2142088d.js";import{v as E}from"./v4-a960c1f4.js";import"./Button-f45348c8.js";import"./BlogMeta-5afed1bd.js";import"./BlogTitle-ebaf83f9.js";import"./slugify-796ef179.js";import"./NotFoundPage-ddfad124.js";const z=()=>{var l,i;const{userInfo:e}=v();console.log(e);const[o,n]=a.useState([]),[m,p]=a.useState(!0);a.useEffect(()=>{async function t(){if(!e.uid)return;const g=u(b,"posts"),j=N(g,w("user.id","==",e.uid));y(j,f=>{const c=[];f.forEach(d=>{c.push({id:d.id,...d.data()}),n(c),p(!1)})})}t()},[e.uid]);const x=(l=e==null?void 0:e.createdAt)!=null&&l.seconds?new Date(((i=e==null?void 0:e.createdAt)==null?void 0:i.seconds)*1e3):new Date,h=new Date(x).toLocaleDateString("vi-VI");return s.jsxs(s.Fragment,{children:[s.jsx(r,{children:"personal dashboard"}),s.jsx("div",{className:"mt-10",children:s.jsxs("div",{className:"flex flex-col items-center gap-5 px-8 py-5 rounded-md md:flex-row bg-colorDarkRedux",children:[s.jsx("img",{className:"w-[250px] object-cover h-[250px] rounded-full border-2 border-colorPrimary",src:e==null?void 0:e.avatar,alt:"userInfo-avatar"}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(r,{children:e.username}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Email:"}),s.jsx("span",{className:"font-semibold hover:opacity-90 text-colorPrimary",children:e==null?void 0:e.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Pasword:"}),s.jsx("span",{className:"font-semibold hover:opacity-90 text-colorGreen",children:e==null?void 0:e.password})]}),s.jsxs("div",{className:"flex items-center gap-5 mt-2",children:[s.jsx("span",{className:"hover:opacity-90 capitalize w-fit select-none inline-block px-[15px] text-center rounded-lg font-semibold bg-colorGradient text-white py-[10px]",children:e==null?void 0:e.role}),s.jsx("span",{className:"text-lg font-semibold text-white select-none hover:opacity-90",children:`Date: ${h}`})]})]})]})}),s.jsxs("div",{className:"mt-16",children:[s.jsx(r,{children:"your blogs"}),s.jsxs("div",{className:"grid gap-5 mt-10 md:grid-cols-2 lg:grid-cols-3",children:[m&&s.jsx(P,{blogs:9}),o.length>0&&o.map(t=>s.jsx(D,{data:t},E()))]})]})]})};export{z as default};
