import{b as x,u as f,r as c,Q as r,j as e,L as j,E as w,a as b}from"./index-8383c646.js";import{c as v,a as m,u as y,F as d,L as u,I as S,b as P,o as E}from"./yup-524afd51.js";import{A as N,I}from"./AuthPage-8765b238.js";import{B as L}from"./Button-7ea5bd85.js";import"./index.esm-8b0e7de9.js";import"./Logo-e1d02736.js";const O=v({email:m().email("Please enter valid email").required("Please enter your email"),password:m().min(8,"Your password must be 8 characters or greater").required("Please enter your password")}),G=()=>{const t=x(),{userInfo:a}=f(),{control:n,handleSubmit:h,formState:{isValid:p,isSubmitting:i,errors:l}}=y({mode:"onchange",resolver:E(O)});c.useEffect(()=>{document.title="SignIn Page",a!=null&&a.email&&(t("/"),document.title="G19BLOG",r.info("You're already sign in !",{theme:"colored",autoClose:2e3,pauseOnHover:!1}))},[a]);const g=async s=>{if(p)try{await w(b,s.email,s.password),r.success("Sign in successfully !",{theme:"colored",autoClose:2e3,pauseOnHover:!1}),t("/")}catch{r.error("Something wrong with your email and password !",{theme:"colored",autoClose:2e3,pauseOnHover:!1})}};return c.useEffect(()=>{var o;const s=Object.values(l);s.length>0&&r.error((o=s[0])==null?void 0:o.message,{autoClose:2e3,pauseOnHover:!1})},[l]),e.jsx("section",{className:"flex items-center justify-center h-screen signinBG",children:e.jsx("div",{className:"page-container",children:e.jsx("form",{onSubmit:h(g),className:"w-full border-gradient max-w-[600px] p-10 shadow-lg glass-design rounded-lg mx-auto",children:e.jsxs(N,{children:[e.jsxs(d,{children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(S,{name:"email",placeholder:"Enter your email...",control:n})]}),e.jsxs(d,{children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(I,{control:n}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold normal-case select-none",children:[e.jsx("p",{children:"Not have an account?"}),e.jsx(j,{to:"/sign-up",className:"cursor-pointer text-colorPink",children:"SignUp"})]})]}),e.jsx(L,{type:"submit",kind:"secondary",className:`w-full h-[55px] md:h-[60px] font-semibold md:text-xl ${i?"opacity-50 pointer-events-none":""}`,children:i?e.jsx(P,{}):"Sign in"})]})})})})};export{G as default};
