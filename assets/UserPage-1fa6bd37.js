import{j as r,r as t,_ as f,d as g,p as h}from"./index-b64655ba.js";import{L as j}from"./Layout-898b4f07.js";import{H as b}from"./Heading-79992bdf.js";import{a as v,d as y}from"./BlogItem-bea055b4.js";import w from"./NotFoundPage-ab58e72d.js";import{u as n}from"./constants-c6ed1daf.js";import{A as N}from"./index.esm-c9a21f04.js";import{v as D}from"./v4-a960c1f4.js";import"./Logo-de5b7b2e.js";import"./Button-f66f59cb.js";import"./data-a451e05d.js";import"./index.esm-83bb03da.js";import"./slugify-aca5d99f.js";const S=({data:e})=>{var c,l;if(!e.id)return r.jsx(w,{});const i=(c=e==null?void 0:e.createdAt)!=null&&c.seconds?new Date(((l=e==null?void 0:e.createdAt)==null?void 0:l.seconds)*1e3):new Date,o=new Date(i).toLocaleDateString("vi-VI");return r.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full gap-3 p-5 mx-auto user-card md:gap-8 glass rounded-xl bg-colorDarkRedux",children:[r.jsx("span",{className:"absolute px-5 py-2 text-xs font-medium capitalize rounded md:text-base top-5 right-5 bg-colorSecondary",children:e==null?void 0:e.role}),r.jsx(v,{className:"w-[100px] h-[100px] md:h-[150px] md:w-[150px] mt-12 md:mt-16 rounded-full mb-2 group border-4 border-colorPrimary",url:e==null?void 0:e.avatar,alt:"blog-img"}),r.jsx("div",{className:"flex flex-col items-center justify-center gap-3",children:r.jsx(y,{className:"flex-col text-xs md:text-base",path:e==null?void 0:e.slug,date:o,author:e==null?void 0:e.username})})]})},Q=()=>{const[e,i]=t.useState([]),[o,c]=t.useState("all"),[l,x]=t.useState("");t.useEffect(()=>{async function s(){const p=f(g,"users");h(p,d=>{let a=[];d.forEach(u=>{a.push({id:u.id,...u.data()})}),i(a)})}s()},[]);const m=e.filter(s=>s.username.toLowerCase().includes(l.toLowerCase())).filter(s=>o==="all"?!0:s.role===o);return t.useEffect(()=>{document.body.scrollIntoView({behavior:"smooth",block:"start"})},[]),r.jsx(j,{children:r.jsxs("div",{className:"page-container py-[150px]",children:[r.jsx(b,{children:"All users"}),r.jsxs("div",{className:"flex flex-col-reverse gap-5 mt-5 md:gap-10 md:items-center md:justify-between md:flex-row",children:[r.jsxs("select",{className:"py-2 w-[150px] text-lg border border-solid rounded bg-colorDarkRedux border-colorPrimary",value:o,onChange:s=>c(s.target.value),children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:n.ADMIN,children:"ADMIN"}),r.jsx("option",{value:n.MOD,children:"MOD"}),r.jsx("option",{value:n.USER,children:"USER"})]}),r.jsxs("div",{className:"w-full flex items-center py-4 px-5 gap-3 md:max-w-[300px] border-2 border-solid rounded-full border-colorPrimary",children:[r.jsx("span",{className:"text-2xl",children:r.jsx(N,{})}),r.jsx("input",{value:l,onChange:s=>x(s.target.value),type:"text",className:"w-full",placeholder:"Search post..."})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-5 mt-10 md:grid-cols-3 lg:grid-cols-4",children:m.length>0&&m.map(s=>r.jsx(S,{data:s},D()))})]})})};export{Q as default};
