import{u as w,D as E,r,j as t,_ as x,d as f,R as h,P as g,p as u}from"./index-4820e760.js";import j from"./NotFoundPage-ddfad124.js";import{L as R}from"./Layout-d5e1c4a0.js";import{H as v}from"./Heading-03f78f57.js";import{B as I}from"./BlogItem-9bb3a7c5.js";import{v as S}from"./v4-a960c1f4.js";import"./Button-f45348c8.js";import"./Logo-05885433.js";import"./data-7c0f50d0.js";import"./index.esm-5e753448.js";import"./index.esm-48e361e7.js";import"./BlogMeta-5afed1bd.js";import"./BlogTitle-ebaf83f9.js";import"./slugify-796ef179.js";const J=()=>{var m,d;const{userInfo:b}=w(),{slug:s}=E(),[l,N]=r.useState([]),[e,y]=r.useState({});r.useEffect(()=>{async function a(){const c=x(f,"posts"),i=h(c,g("user.slug","==",s));u(i,n=>{const o=[];n.forEach(p=>{o.push({id:p.id,...p.data()}),N(o)})})}a()},[s]),r.useEffect(()=>{async function a(){const c=x(f,"users"),i=h(c,g("slug","==",s));u(i,n=>{n.forEach(o=>{o.data()&&y(o.data())})})}a()},[s]),r.useEffect(()=>{document.body.scrollIntoView({behavior:"smooth",block:"start"})},[]);const D=(m=e==null?void 0:e.createdAt)!=null&&m.seconds?new Date(((d=e==null?void 0:e.createdAt)==null?void 0:d.seconds)*1e3):new Date,P=new Date(D).toLocaleDateString("vi-VI");return s?b?t.jsx(R,{children:t.jsxs("div",{className:"page-container py-[150px]",children:[t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("img",{className:"w-[130px] h-[130px] md:w-[250px] object-cover md:h-[250px] rounded border-2 border-gradient",src:e==null?void 0:e.avatar,alt:"user-avatar"}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx(v,{children:`${s}`}),t.jsx("span",{className:"italic font-semibold hover:opacity-90 text-colorPrimary",children:e==null?void 0:e.email}),t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("span",{className:"inline-block px-6 py-2 text-sm font-semibold text-center text-white capitalize rounded-lg select-none bg-colorSecondary md:text-base",children:e==null?void 0:e.role}),t.jsx("span",{className:"text-sm font-semibold text-white select-none md:text-lg hover:opacity-90",children:`Date: ${P}`})]})]})]}),t.jsxs("div",{className:"mt-20",children:[t.jsx(v,{children:"blogs post"}),t.jsx("div",{className:"grid gap-5 mt-10 md:grid-cols-2 lg:grid-cols-3",children:l.length>0&&l.map(a=>t.jsx(I,{data:a},S()))})]})]})}):t.jsx(j,{}):t.jsx(j,{})};export{J as default};
