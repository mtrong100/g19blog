import{j as e,E as a,r as l,_ as v,d as b,p as y}from"./index-7966c32c.js";import{L as w}from"./Layout-eafec013.js";import{H as N}from"./Heading-523507fe.js";import D from"./NotFoundPage-4e43dd99.js";import{B as S,a as U}from"./BlogMeta-14b355d3.js";import{u as n}from"./constants-c6ed1daf.js";import{A}from"./index.esm-0fd3d51b.js";import{v as d}from"./v4-a960c1f4.js";import"./Logo-3c21e70c.js";import"./Button-dce2d53f.js";import"./data-dd792d27.js";import"./index.esm-c6f70a0d.js";const R=({data:s})=>{var c,o;if(!s.id)return e.jsx(D,{});const i=(c=s==null?void 0:s.createdAt)!=null&&c.seconds?new Date(((o=s==null?void 0:s.createdAt)==null?void 0:o.seconds)*1e3):new Date,t=new Date(i).toLocaleDateString("vi-VI");return e.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full gap-3 p-5 mx-auto user-card md:gap-8 glass rounded-xl bg-colorDarkRedux",children:[e.jsx("span",{className:"absolute px-5 py-2 text-xs font-medium capitalize rounded md:text-base top-5 right-5 bg-colorSecondary",children:s==null?void 0:s.role}),e.jsx(S,{size:"circle",className:"mt-12 mb-2 border-4 rounded-full md:mt-16 border-colorPrimary",url:s==null?void 0:s.avatar,alt:"blog-img"}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-3",children:e.jsx(U,{className:"flex-col text-xs md:text-base",path:s==null?void 0:s.slug,date:t,author:s==null?void 0:s.username})})]})},E=({users:s})=>Array(s).fill(0).map(i=>e.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full gap-3 p-5 mx-auto user-card md:gap-8 glass rounded-xl bg-colorDarkRedux",children:[e.jsx(a,{width:80,height:32}),e.jsx(a,{width:150,height:150,borderRadius:100}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-3",children:e.jsx(a,{width:170,height:30})})]},d())),_=()=>{const[s,i]=l.useState([]),[t,c]=l.useState("all"),[o,p]=l.useState(""),[f,g]=l.useState(!0);l.useEffect(()=>{async function r(){const h=v(b,"users");y(h,j=>{let u=[];j.forEach(x=>{u.push({id:x.id,...x.data()})}),i(u),g(!1)})}r()},[]);const m=s.filter(r=>r.username.toLowerCase().includes(o.toLowerCase())).filter(r=>t==="all"?!0:r.role===t);return l.useEffect(()=>{document.body.scrollIntoView({behavior:"smooth",block:"start"})},[]),e.jsx(w,{children:e.jsxs("div",{className:"page-container py-[150px]",children:[e.jsx(N,{children:"All users"}),e.jsxs("div",{className:"flex flex-col-reverse gap-5 mt-5 md:gap-10 md:items-center md:justify-between md:flex-row",children:[e.jsxs("select",{className:"py-2 w-[150px] text-lg border border-solid rounded bg-colorDarkRedux border-colorPrimary",value:t,onChange:r=>c(r.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:n.ADMIN,children:"ADMIN"}),e.jsx("option",{value:n.MOD,children:"MOD"}),e.jsx("option",{value:n.USER,children:"USER"})]}),e.jsxs("div",{className:"w-full flex items-center py-4 px-5 gap-3 md:max-w-[300px] border-2 border-solid rounded-full border-colorPrimary",children:[e.jsx("span",{className:"text-2xl",children:e.jsx(A,{})}),e.jsx("input",{value:o,onChange:r=>p(r.target.value),type:"text",className:"w-full",placeholder:"Search post..."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-10 md:grid-cols-3 lg:grid-cols-4",children:[f&&e.jsx(E,{users:8}),m.length>0&&m.map(r=>e.jsx(R,{data:r},d()))]})]})})};export{_ as default};
