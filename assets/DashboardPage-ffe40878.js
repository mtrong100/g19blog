import{u as g,r as d,j as s,_ as f,d as v,R as b,P as u,p as N}from"./index-8e675e0c.js";import{H as t}from"./Heading-6fa874eb.js";import{B as w}from"./BlogItem-9ee3fe7f.js";import{v as D}from"./v4-a960c1f4.js";import"./Button-5fc3483b.js";import"./slugify-d9ce6421.js";import"./NotFoundPage-b456e982.js";const G=()=>{var l,c;const{userInfo:e}=g(),[r,n]=d.useState([]);d.useEffect(()=>{async function a(){if(!e.uid)return;const p=f(v,"posts"),h=b(p,u("user.id","==",e.uid));N(h,j=>{const i=[];j.forEach(o=>{i.push({id:o.id,...o.data()}),n(i)})})}a()},[e.uid]);const m=(l=e==null?void 0:e.createdAt)!=null&&l.seconds?new Date(((c=e==null?void 0:e.createdAt)==null?void 0:c.seconds)*1e3):new Date,x=new Date(m).toLocaleDateString("vi-VI");return s.jsxs(s.Fragment,{children:[s.jsx(t,{children:"personal dashboard"}),s.jsx("div",{className:"mt-10",children:s.jsxs("div",{className:"flex flex-col items-center gap-5 px-8 py-5 rounded-md md:flex-row bg-colorDime",children:[s.jsx("img",{className:"w-[250px] object-cover h-[250px] rounded-full border-2 border-colorPink",src:e==null?void 0:e.avatar,alt:"userInfo-avatar"}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(t,{children:e.username}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Email:"}),s.jsx("span",{className:"font-semibold hover:opacity-90 text-colorPink",children:e==null?void 0:e.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Pasword:"}),s.jsx("span",{className:"font-semibold hover:opacity-90 text-colorGreen",children:e==null?void 0:e.password})]}),s.jsxs("div",{className:"flex items-center gap-5 mt-2",children:[s.jsx("span",{className:"hover:opacity-90 capitalize w-fit select-none inline-block px-[15px] text-center rounded-lg font-semibold bg-colorGradient text-white py-[10px]",children:e==null?void 0:e.role}),s.jsx("span",{className:"text-lg font-semibold text-white select-none hover:opacity-90",children:`Date: ${x}`})]})]})]})}),s.jsxs("div",{className:"mt-16",children:[s.jsx(t,{children:"your blogs"}),s.jsx("div",{className:"grid gap-5 mt-10 md:grid-cols-2 lg:grid-cols-3",children:r.length>0&&r.map(a=>s.jsx(w,{data:a},D()))})]})]})};export{G as default};
