import{j as s,r as t,_ as f,d as g,p as h}from"./index-f4999a5f.js";import{L as j}from"./Layout-67be5023.js";import{H as b}from"./Heading-dd06bb81.js";import{a as v,d as w}from"./BlogItem-7f19be43.js";import N from"./NotFoundPage-fc0ca794.js";import{u as n}from"./constants-c6ed1daf.js";import{A as y}from"./index.esm-45f7dd71.js";import{v as D}from"./v4-a960c1f4.js";import"./Logo-9c7d6344.js";import"./Button-2a8f4be9.js";import"./data-36aedd86.js";import"./slugify-071820fc.js";const S=({data:e})=>{var i,o;if(!e.id)return s.jsx(N,{});const c=(i=e==null?void 0:e.createdAt)!=null&&i.seconds?new Date(((o=e==null?void 0:e.createdAt)==null?void 0:o.seconds)*1e3):new Date,l=new Date(c).toLocaleDateString("vi-VI");return s.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full gap-3 p-5 mx-auto md:gap-8 user-card rounded-xl bg-colorDime",children:[s.jsx("span",{className:"absolute px-4 py-2 text-xs font-semibold capitalize rounded md:text-base top-5 right-5 bg-colorGradient",children:e==null?void 0:e.role}),s.jsx(v,{className:"w-[100px] h-[100px] md:h-[150px] md:w-[150px] mt-12 rounded-full mb-2 group border-4 border-colorPink",url:e==null?void 0:e.avatar,alt:"blog-img"}),s.jsx("div",{className:"flex flex-col items-center justify-center gap-3",children:s.jsx(w,{className:"flex-col text-base",path:e==null?void 0:e.slug,date:l,author:e==null?void 0:e.username})})]})},H=()=>{const[e,c]=t.useState([]),[l,i]=t.useState("all"),[o,p]=t.useState("");t.useEffect(()=>{async function r(){const x=f(g,"users");h(x,d=>{let a=[];d.forEach(u=>{a.push({id:u.id,...u.data()})}),c(a)})}r()},[]);const m=e.filter(r=>r.username.toLowerCase().includes(o.toLowerCase())).filter(r=>l==="all"?!0:r.role===l);return t.useEffect(()=>{document.body.scrollIntoView({behavior:"smooth",block:"start"})},[]),s.jsx(j,{children:s.jsxs("div",{className:"page-container py-[150px]",children:[s.jsx(b,{children:"All users"}),s.jsxs("div",{className:"flex flex-col-reverse gap-5 mt-5 md:gap-10 md:items-center md:justify-between md:flex-row",children:[s.jsxs("select",{className:"py-2 w-[150px] text-lg border border-solid rounded bg-colorDime border-colorPink",value:l,onChange:r=>i(r.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:n.ADMIN,children:"ADMIN"}),s.jsx("option",{value:n.MOD,children:"MOD"}),s.jsx("option",{value:n.USER,children:"USER"})]}),s.jsxs("div",{className:"w-full flex items-center py-4 px-5 gap-3 md:max-w-[300px] border-2 border-solid rounded-full border-colorPink",children:[s.jsx("span",{className:"text-2xl",children:s.jsx(y,{})}),s.jsx("input",{value:o,onChange:r=>p(r.target.value),type:"text",className:"w-full",placeholder:"Search post..."})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-5 mt-10 md:grid-cols-3 lg:grid-cols-4",children:m.length>0&&m.map(r=>s.jsx(S,{data:r},D()))})]})})};export{H as default};
