import{u as w,D as E,r,j as e,_ as x,d as f,R as h,P as g,p as u}from"./index-b64655ba.js";import j from"./NotFoundPage-ab58e72d.js";import{L as R}from"./Layout-898b4f07.js";import{H as v}from"./Heading-79992bdf.js";import{B as I}from"./BlogItem-bea055b4.js";import{v as S}from"./v4-a960c1f4.js";import"./Button-f66f59cb.js";import"./Logo-de5b7b2e.js";import"./data-a451e05d.js";import"./index.esm-c9a21f04.js";import"./index.esm-83bb03da.js";import"./slugify-aca5d99f.js";const C=()=>{var d,m;const{userInfo:b}=w(),{slug:s}=E(),[l,N]=r.useState([]),[t,y]=r.useState({});r.useEffect(()=>{async function a(){const c=x(f,"posts"),n=h(c,g("user.slug","==",s));u(n,i=>{const o=[];i.forEach(p=>{o.push({id:p.id,...p.data()}),N(o)})})}a()},[s]),r.useEffect(()=>{async function a(){const c=x(f,"users"),n=h(c,g("slug","==",s));u(n,i=>{i.forEach(o=>{o.data()&&y(o.data())})})}a()},[s]),r.useEffect(()=>{document.body.scrollIntoView({behavior:"smooth",block:"start"})},[]);const D=(d=t==null?void 0:t.createdAt)!=null&&d.seconds?new Date(((m=t==null?void 0:t.createdAt)==null?void 0:m.seconds)*1e3):new Date,P=new Date(D).toLocaleDateString("vi-VI");return s?b?e.jsx(R,{children:e.jsxs("div",{className:"page-container py-[150px]",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("img",{className:"w-[130px] h-[130px] md:w-[250px] object-cover md:h-[250px] rounded border-2 border-gradient",src:t==null?void 0:t.avatar,alt:"user-avatar"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(v,{children:`${s}`}),e.jsx("span",{className:"italic font-semibold hover:opacity-90 text-colorPrimary",children:t==null?void 0:t.email}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("span",{className:"inline-block px-6 py-2 text-sm font-semibold text-center text-white capitalize rounded-lg select-none bg-colorSecondary md:text-base",children:t==null?void 0:t.role}),e.jsx("span",{className:"text-sm font-semibold text-white select-none md:text-lg hover:opacity-90",children:`Date: ${P}`})]})]})]}),e.jsxs("div",{className:"mt-20",children:[e.jsx(v,{children:"blogs post"}),e.jsx("div",{className:"grid gap-5 mt-10 md:grid-cols-3",children:l.length>0&&l.map(a=>e.jsx(I,{data:a},S()))})]})]})}):e.jsx(j,{}):e.jsx(j,{})};export{C as default};
